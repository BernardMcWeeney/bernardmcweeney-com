---
/**
 * Rack Hero v2.0
 * neofetch-style system info with networking visuals
 */
---

<section class="hero-blade blade" data-unit="2U">
  <div class="blade-face">
    <div class="led-cluster">
      <span class="led on blink"></span>
      <span class="led on"></span>
      <span class="led on"></span>
      <span class="led amber"></span>
    </div>
    <span class="blade-label">
      SYSTEM CONSOLE
      <span class="model">TTY0</span>
    </span>
    <div class="led-cluster">
      <span class="led on"></span>
      <span class="led on"></span>
    </div>
  </div>
  
  <div class="blade-content">
    <div class="neofetch">
      <!-- ASCII Logo -->
      <div class="ascii-logo">
        <pre class="ascii primary">
  ____                              __
 / __ )___  _________  ____ ______/ /
/ __  / _ \/ ___/ __ \/ __ `/ ___/ / 
/ /_/ /  __/ /  / / / / /_/ / /  /_/  
/_____/\___/_/  /_/ /_/\__,_/_/  (_)  

╔═══════════════════════════════════╗
║   M C W E E N E Y   S Y S T E M S ║
╚═══════════════════════════════════╝</pre>
      </div>
      
      <!-- System Info -->
      <div class="sys-info">
        <div class="info-header">
          <span class="user">root</span>
          <span class="at">@</span>
          <span class="host">bernard-srv01</span>
        </div>
        <div class="info-divider">─────────────────────────</div>
        
        <div class="info-row">
          <span class="info-key">OS</span>
          <span class="info-val">Astro 5.16 x86_64</span>
        </div>
        <div class="info-row">
          <span class="info-key">Host</span>
          <span class="info-val">Cloudflare Workers Edge</span>
        </div>
        <div class="info-row">
          <span class="info-key">Kernel</span>
          <span class="info-val">tailwind-4.1.0-rack</span>
        </div>
        <div class="info-row">
          <span class="info-key">Uptime</span>
          <span class="info-val" id="hero-uptime">calculating...</span>
        </div>
        <div class="info-row">
          <span class="info-key">Shell</span>
          <span class="info-val">zsh 5.9</span>
        </div>
        <div class="info-row">
          <span class="info-key">Role</span>
          <span class="info-val">IT Administrator</span>
        </div>
        <div class="info-row">
          <span class="info-key">Location</span>
          <span class="info-val">Dublin, Ireland (IE)</span>
        </div>
        <div class="info-row">
          <span class="info-key">Packages</span>
          <span class="info-val">M365, GWS, Azure, AWS</span>
        </div>
        <div class="info-row">
          <span class="info-key">Theme</span>
          <span class="info-val">Rack Dark v2.0</span>
        </div>
        
        <!-- Color blocks -->
        <div class="color-row">
          <span class="block" style="background: #0e0e0e;"></span>
          <span class="block" style="background: #ff3333;"></span>
          <span class="block" style="background: #00ff41;"></span>
          <span class="block" style="background: #ffbf00;"></span>
          <span class="block" style="background: #0099ff;"></span>
          <span class="block" style="background: #aa33ff;"></span>
          <span class="block" style="background: #00ffff;"></span>
          <span class="block" style="background: #f0f0f0;"></span>
        </div>
      </div>
    </div>
    
    <!-- Terminal Prompt -->
    <div class="terminal-prompt">
      <div class="terminal-header">
        <div class="dots">
          <span class="dot red"></span>
          <span class="dot yellow"></span>
          <span class="dot green"></span>
        </div>
        <span class="title">bernard@srv01: ~</span>
      </div>
      <div class="terminal-body">
        <div class="terminal-line">
          <span class="prompt">[bernard@srv01 ~]$</span>
          <span class="typed-text" id="hero-typed"></span>
          <span class="cursor" id="hero-cursor"></span>
        </div>
      </div>
    </div>
    
    <!-- Quick Actions -->
    <div class="quick-actions" id="quick-actions">
      <a href="/about/" class="action-btn">
        <span class="action-icon">◎</span>
        <span class="action-text">cat /etc/about</span>
      </a>
      <a href="/blog/" class="action-btn">
        <span class="action-icon">◉</span>
        <span class="action-text">tail -f /var/log/blog</span>
      </a>
      <a href="/projects/" class="action-btn primary">
        <span class="action-icon">◇</span>
        <span class="action-text">systemctl list-units</span>
      </a>
    </div>
  </div>
</section>

<style>
  .hero-blade {
    margin-bottom: 0.5rem;
  }

  .neofetch {
    display: grid;
    gap: 1.5rem;
    margin-bottom: 1rem;
  }

  @media (min-width: 768px) {
    .neofetch {
      grid-template-columns: auto 1fr;
      gap: 2rem;
    }
  }

  .ascii-logo {
    overflow-x: auto;
  }

  .ascii {
    margin: 0;
    font-size: 7px;
    line-height: 1.2;
  }

  @media (min-width: 480px) {
    .ascii { font-size: 9px; }
  }

  @media (min-width: 768px) {
    .ascii { font-size: 11px; }
  }

  /* System Info */
  .sys-info {
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
  }

  .info-header {
    font-size: 13px;
    font-weight: 600;
  }

  .info-header .user {
    color: var(--color-term-cyan);
  }

  .info-header .at {
    color: var(--color-term-white);
  }

  .info-header .host {
    color: var(--color-term-cyan);
  }

  .info-divider {
    color: var(--color-term-dark);
    margin: 0.25rem 0;
  }

  .info-row {
    display: flex;
    gap: 0.5rem;
    font-size: 12px;
  }

  .info-key {
    color: var(--color-primary);
    min-width: 80px;
    font-weight: 500;
  }

  .info-key::after {
    content: ':';
  }

  .info-val {
    color: var(--color-term-white);
  }

  .color-row {
    display: flex;
    gap: 3px;
    margin-top: 0.75rem;
  }

  .block {
    width: 18px;
    height: 18px;
    border: 1px solid var(--color-border);
  }

  /* Terminal Prompt */
  .terminal-prompt {
    background: var(--color-chassis);
    border: 1px solid var(--color-border);
    margin-bottom: 1rem;
    overflow: hidden;
  }

  .terminal-prompt .terminal-header {
    padding: 0.35rem 0.5rem;
    background: var(--color-panel);
    border-bottom: 1px solid var(--color-border);
  }

  .terminal-prompt .dots {
    display: inline-flex;
    gap: 5px;
    margin-right: 0.75rem;
  }

  .terminal-prompt .dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
  }

  .terminal-prompt .title {
    font-size: 11px;
    color: var(--color-term-gray);
  }

  .terminal-prompt .terminal-body {
    padding: 0.75rem;
  }

  .terminal-prompt .terminal-line {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .typed-text {
    color: var(--color-term-white);
  }

  /* Quick Actions */
  .quick-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    opacity: 0;
    transform: translateY(8px);
    transition: all 0.3s ease;
  }

  .quick-actions.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .action-btn {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.5rem 0.75rem;
    background: var(--color-panel);
    border: 1px solid var(--color-border);
    color: var(--color-term-green);
    text-decoration: none;
    font-size: 11px;
    transition: all 0.15s ease;
  }

  .action-btn:hover {
    border-color: var(--color-term-green);
    box-shadow: var(--glow-green);
  }

  .action-btn.primary {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: var(--color-rack);
  }

  .action-btn.primary:hover {
    background: var(--color-primary-bright);
    box-shadow: var(--glow-primary);
  }

  .action-icon {
    font-size: 12px;
  }

  .action-text {
    font-family: var(--font-mono);
  }
</style>

<script>
  // Calculate uptime from a start date
  const launchDate = new Date('2024-01-01');
  const uptimeEl = document.getElementById('hero-uptime');
  
  function updateHeroUptime() {
    const now = new Date();
    const diff = now.getTime() - launchDate.getTime();
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    
    if (uptimeEl) {
      uptimeEl.textContent = `${days} days, ${hours}h ${mins}m`;
    }
  }
  
  updateHeroUptime();

  // Typing effect
  const messages = [
    "Welcome to my server rack.",
    "IT admin by day, builder by night.",
    "Type 'help' for commands.",
    "Initializing systems...",
  ];
  
  const typedEl = document.getElementById('hero-typed');
  const cursorEl = document.getElementById('hero-cursor');
  const actionsEl = document.getElementById('quick-actions');
  
  let messageIndex = 0;
  let charIndex = 0;
  let isDeleting = false;
  let showedActions = false;
  
  function type() {
    const currentMessage = messages[messageIndex];
    
    if (!isDeleting) {
      if (typedEl) {
        typedEl.textContent = currentMessage.substring(0, charIndex + 1);
      }
      charIndex++;
      
      if (charIndex === currentMessage.length) {
        // Show actions after first message
        if (!showedActions && actionsEl) {
          actionsEl.classList.add('visible');
          showedActions = true;
        }
        
        setTimeout(() => {
          isDeleting = true;
          type();
        }, 2000);
        return;
      }
      
      setTimeout(type, 50 + Math.random() * 30);
    } else {
      if (typedEl) {
        typedEl.textContent = currentMessage.substring(0, charIndex - 1);
      }
      charIndex--;
      
      if (charIndex === 0) {
        isDeleting = false;
        messageIndex = (messageIndex + 1) % messages.length;
      }
      
      setTimeout(type, 25);
    }
  }
  
  setTimeout(type, 500);
</script>
---
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<'a'> { href: string; }
const { href, class: className, ...props } = Astro.props;

const pathname = Astro.url.pathname.endsWith('/') ? Astro.url.pathname : Astro.url.pathname + '/';
const target = href.endsWith('/') ? href : href + '/';
const isActive = pathname.startsWith(target);
---

<a href={href} class:list={[ "no-underline", "transition-colors", "focus:outline-none", className, { "border-[color:var(--brand)] text-[color:var(--brand)]": isActive } ]} {...props}>
  <slot />
</a>
